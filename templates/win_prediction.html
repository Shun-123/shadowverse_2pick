{% extends "base.html" %}
{% block content %}
<div class="card">
    <h2>ğŸ¯ å‹ç‡äºˆæ¸¬</h2>
    <p>ãƒ‡ãƒƒã‚­æ§‹æˆã‹ã‚‰2Pickã§ã®å‹ç‡ã‚’äºˆæ¸¬ã—ã¾ã™ã€‚</p>
    
    <form method="POST">
        <div class="form-group">
            <label for="deck_input">ãƒ‡ãƒƒã‚­å†…å®¹ï¼ˆã‚«ãƒ¼ãƒ‰åã¾ãŸã¯IDã‚’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰:</label>
            <textarea id="deck_input" name="deck_input" rows="6" required
                      placeholder="ä¾‹: ä¸å±ˆã®ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼, ãƒ™ãƒ«ã‚¨ãƒ³ã‚¸ã‚§ãƒ«ãƒ»ãƒªã‚¢, çŸ¥æµã®è¼ã, ..."></textarea>
        </div>
        <button type="submit" class="btn">å‹ç‡ã‚’äºˆæ¸¬</button>
    </form>
    
    {% if prediction_result %}
    <div class="card" style="margin-top: 2rem;">
        <h3>ğŸ“Š äºˆæ¸¬çµæœ</h3>
        
        <div style="text-align: center; margin: 2rem 0;">
            <div style="font-size: 3em; font-weight: bold; color: var(--primary);">
                {{ prediction_result.win_rate }}%
            </div>
            <div style="font-size: 1.2em; color: #666;">
                äºˆæ¸¬å‹ç‡ï¼ˆä¿¡é ¼åº¦: {{ prediction_result.confidence }}%ï¼‰
            </div>
        </div>
        
        <h4>ğŸ“ˆ è¦å› åˆ†æ</h4>
        <div style="background: #f9f9f9; padding: 1rem; border-radius: 8px;">
            {% for factor, score in prediction_result.factors.items() %}
            <div style="margin: 0.5rem 0; display: flex; align-items: center;">
                <span style="width: 120px;">{{ factor }}:</span>
                <div style="background: #e2e8f0; height: 20px; width: 200px; border-radius: 10px; margin-right: 1rem;">
                    <div style="background: var(--primary); height: 100%; width: {{ score * 100 }}%; border-radius: 10px;"></div>
                </div>
                <span>{{ '%.0f' % (score * 100) }}%</span>
            </div>
            {% endfor %}
        </div>
        
        <h4>ğŸ’¡ æ”¹å–„ææ¡ˆ</h4>
        <ul>
            {% for rec in prediction_result.recommendations %}
            <li>{{ rec }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}
